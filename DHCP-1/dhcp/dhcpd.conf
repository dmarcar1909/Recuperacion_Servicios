default-lease-time 600;
max-lease-time 7200;

ddns-update-style none;

authoritative;

class "windows-clients" {
  match if option vendor-class-identifier = "MSFT 5.0";
}

class "linux-clients" {
  match if option vendor-class-identifier = "Linux";
}

failover peer "dhcp-failover" {
  primary;
  address 192.168.50.1;
  port 647;
  peer address 192.168.51.1;
  peer port 647;
  max-response-delay 60;
  max-unacked-updates 10;
  mclt 1800;
  split 128;
  load balance max seconds 3;
}


subnet 192.168.50.0 netmask 255.255.255.0 {
  option routers 192.168.50.254;
  option subnet-mask 255.255.255.0;
  option broadcast-address 192.168.50.255;

  pool {
    failover peer "dhcp-failover";
    allow members of "windows-clients";
    range 192.168.50.10 192.168.50.100;
  }

  pool {
    failover peer "dhcp-failover";
    allow members of "linux-clients";
    range 192.168.50.101 192.168.50.160;
  }

  pool {
    failover peer "dhcp-failover";
    deny members of "windows-clients";
    deny members of "linux-clients";
    range 192.168.50.161 192.168.50.220;
    allow unknown-clients;
  }
}
subnet 192.168.51.0 netmask 255.255.255.0 {
  option routers 192.168.51.254;
  option subnet-mask 255.255.255.0;
  option broadcast-address 192.168.51.255;

  pool {
    failover peer "dhcp-failover";
    allow members of "windows-clients";
    range 192.168.51.10 192.168.51.100;
  }

  pool {
    failover peer "dhcp-failover";
    allow members of "linux-clients";
    range 192.168.51.101 192.168.51.160;
  }

  pool {
    failover peer "dhcp-failover";
    deny members of "windows-clients";
    deny members of "linux-clients";
    range 192.168.51.161 192.168.51.220;
    allow unknown-clients;
  }
}
subnet 192.168.60.0 netmask 255.255.255.0 {
  option routers 192.168.60.254;
  option subnet-mask 255.255.255.0;
  option broadcast-address 192.168.60.255;

  pool {
    failover peer "dhcp-failover";
    allow members of "windows-clients";
    range 192.168.60.10 192.168.60.100;
  }

  pool {
    failover peer "dhcp-failover";
    allow members of "linux-clients";
    range 192.168.60.101 192.168.60.160;
  }

  pool {
    failover peer "dhcp-failover";
    deny members of "windows-clients";
    deny members of "linux-clients";
    range 192.168.60.161 192.168.60.220;
    allow unknown-clients;
  }
}
subnet 192.168.70.0 netmask 255.255.255.0 {
  option routers 192.168.70.254;
  option subnet-mask 255.255.255.0;
  option broadcast-address 192.168.70.255;

  pool {
    failover peer "dhcp-failover";
    allow members of "windows-clients";
    range 192.168.70.10 192.168.70.100;
  }

  pool {
    failover peer "dhcp-failover";
    allow members of "linux-clients";
    range 192.168.70.101 192.168.70.160;
  }

  pool {
    failover peer "dhcp-failover";
    deny members of "windows-clients";
    deny members of "linux-clients";
    range 192.168.70.161 192.168.70.220;
    allow unknown-clients;
  }
}

host windows_static {
  hardware ethernet 08:00:27:9A:35:CF;
  fixed-address 192.168.70.235;
}
